<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <title>OpenDaylight startup</title>
  <meta name="description" content="OpenDaylight Startup">
  <meta name="author" content="Wei Wang">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="OpenDaylight startup">
  <meta name="twitter:description" content="OpenDaylight Startup">
  
  <meta property="og:type" content="article">
  <meta property="og:title" content="OpenDaylight startup">
  <meta property="og:description" content="OpenDaylight Startup">
  
  <link rel="icon" type="image/png" href="/assets/images/favicon.png" />
  <link href="/assets/images/favicon.png" rel="shortcut icon" type="image/png">
  
  <link rel="stylesheet" href="/css/main.css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="canonical" href="http://localhost:4000/2017/06/OpenDaylight-get-started/">
  <link rel="alternate" type="application/rss+xml" title="Ruan Weizhang" href="http://localhost:4000/feed.xml">
  
  <meta name="google-site-verification" content="1-1ZlHoRvM0T2FqPbW2S-qLgYXN6rsn52kErlMPd_gw" />
  
</head>


  <body>

    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>
    
    <header class="panel-cover panel-cover--collapsed" style="background-image: url('/assets/images/background-cover.jpg')">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/#blog" title="前往 Ruan Weizhang 的主页" class="blog-button"><img src="/assets/images/avatar.jpg" width="80" alt="Ruan Weizhang logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/#blog" title="link to homepage for Ruan Weizhang" class="blog-button">Ruan Weizhang</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle">Welcome to my blog</span>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description"></p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />
        
        
        
        <div class="navigation-wrapper">
          <div>
            <nav class="cover-navigation cover-navigation--primary">
              <ul class="navigation">
                <li class="navigation__item"><a href="/#blog" title="Visit blog" class="blog-button">Blog</a></li>
                
                  <li class="navigation__item"><a href="http://project.onevcat.com" target="_blank" title="My Projects">Projects</a></li>
                
              </ul>
            </nav>
          </div>
          
          <div><nav class="cover-navigation navigation--social">
  <ul class="navigation">

  
  <!-- Facebook -->
  <li class="navigation__item">
    <a href="http://facebook.com/ruanweizhang" title="@ruanweizhang 的脸书" target="_blank">
      <i class='social fa fa-facebook'></i>
      <span class="label">Facebook</span>
    </a>
  </li>
  


  

  
  <!-- Github -->
  <li class="navigation__item">
    <a href="https://github.com/ruanweizhang" title="@ruanweizhang 的 Github" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>
  
  
  

  

  <!-- RSS -->
  <li class="navigation__item">
    <a href="/feed.xml" rel="author" title="RSS" target="_blank">
      <i class='social fa fa-rss'></i>
      <span class="label">RSS</span>
    </a>
  </li>

  
  <!-- Email -->
  <li class="navigation__item">
    <a href="mailto:ruanweizhang@gmail.com" title="Contact me">
      <i class='social fa fa-envelope'></i>
      <span class="label">Email</span>
    </a>
  </li>
  

  </ul>
</nav>
</div>
        </div>
      </div>
    </div>
    
    
    <div class="panel-cover--overlay cover-red"></div>
    
  </div>
</header>


    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="2017-06-23 19:10:00 +0800" itemprop="datePublished" class="post-meta__date date">2017-06-23</time> &#8226; <span class="post-meta__tags tags">OpenDaylight,startup</span>
    </div>
    <h1 class="post-title">OpenDaylight startup</h1>
  </header>

  <section class="post">
    <h1 id="opendaylight-startup">OpenDaylight Startup</h1>

<p>This article is based on official tutorial <a href="https://wiki.opendaylight.org/view/OpenDaylight_Controller:MD-SAL:Startup_Project_Archetype">Startup Porject Archetype</a>. Since the official tutorial is out-of-date, I encounter some errors and this article is about how I solve them. Thanks for <a href="https://www.facebook.com/profile.php?id=100000181252042&amp;fref=ts">Yochang</a> and <a href="https://www.facebook.com/sesame.chen?fref=ts">Sesame</a>’s contributions.</p>

<h3 id="develop-environment">develop environment</h3>
<ul>
  <li>OS: Ubuntu 16.04</li>
  <li>OpenDaylight: Boron-SR3</li>
</ul>

<h3 id="part-1">part 1</h3>
<p>In Ubuntu 16.04, after installing maven I couldn’t find <code class="highlighter-rouge">~/.m2/settings.xml</code>, later I find out it is in <code class="highlighter-rouge">/usr/share/maven/conf/</code>, copy it to <code class="highlighter-rouge">~/.m2</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>cp /usr/share/maven/conf/settings.xml ~/.m2/settings.xml
</code></pre>
</div>

<p>In building <code class="highlighter-rouge">example</code> project, I choose <code class="highlighter-rouge">Boron-SR3</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>mvn archetype:generate -DarchetypeGroupId=org.opendaylight.controller -DarchetypeArtifactId=opendaylight-startup-archetype -DarchetypeVersion=1.2.3-Boron-SR3 -DarchetypeRepository=https://nexus.opendaylight.org/content/repositories/public/ -DarchetypeCatalog=remote
</code></pre>
</div>

<h3 id="part-2">part 2</h3>

<h4 id="build-hello-project">build <code class="highlighter-rouge">hello</code> project</h4>

<p>In building <code class="highlighter-rouge">hello</code> project, I encounter this error</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Failed to execute goal org.apache.maven.plugins:maven-archetype-plugin:3.0.1:generate (default-cli) on project standalone-pom: archetypeCatalog http://nexus.opendaylight.org/content/repositories/opendaylight.snapshot/archetype-catalog.xml' is not supported anymore. Please read the plugin documentation for details. -&gt; [Help 1]
</code></pre>
</div>

<p>The reason is explained <a href="http://maven.apache.org/archetype/maven-archetype-plugin/archetype-repository.html">here</a></p>

<div class="highlighter-rouge"><pre class="highlight"><code>As of Maven Archetype Plugin 3.0.0 the archetype resolution has  
changed. It is not possible anymore to specify the repository   
via the commandline, but instead the repositories as already  
specified for Maven are used. This means that also the mirrors  
and proxies are respected, as well as the authentication on  
repositories.
</code></pre>
</div>

<p>solution is to lock the version of the plugin to <code class="highlighter-rouge">2.4</code>, run this command</p>

<div class="highlighter-rouge"><pre class="highlight"><code>mvn org.apache.maven.plugins:maven-archetype-plugin:2.4:generate -DarchetypeGroupId=org.opendaylight.controller -DarchetypeArtifactId=opendaylight-startup-archetype -DarchetypeRepository=opendaylight.release/ -DarchetypeCatalog=http://nexus.opendaylight.org/content/repositories/opendaylight.snapshot/archetype-catalog.xml -DarchetypeVersion=1.2.3-Boron-SR3
</code></pre>
</div>
<p>The tutorial is actually using <code class="highlighter-rouge">classPrefix</code> <code class="highlighter-rouge">Hello</code> instead of <code class="highlighter-rouge">hello</code>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Define value for property 'classPrefix': Hello
</code></pre>
</div>

<p>build <code class="highlighter-rouge">hello</code> project using</p>

<div class="highlighter-rouge"><pre class="highlight"><code>mvn clean install
</code></pre>
</div>

<h4 id="implement-helloworld-rpc-api">Implement <code class="highlighter-rouge">HelloWorld</code> RPC API</h4>
<p>First create <code class="highlighter-rouge">HelloWorldImple.java</code> file then</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd hello/impl/src/main/resources/org/opendaylight/blueprint/

</code></pre>
</div>
<p>and revise <code class="highlighter-rouge">impl-blueprint.xml</code> file, then walk with the tutorial, if you have this error after <code class="highlighter-rouge">mvn clean build</code>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[ERROR] src/main/java/org/opendaylight/hello/impl/HelloWorldImpl.java[1] (header) RegexpHeader: Line does not match expected header line of '^/[]+$'.
</code></pre>
</div>

<p>you can try with this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>mvn clean install -Dcheckstyle.skip
</code></pre>
</div>

<h4 id="test-the-hello-world-rpc-via-rest">Test the ‘hello-world’ RPC via REST</h4>

<p><img src="OpenDaylight-startup.png" alt="" /></p>

  </section>
</article>

<section class="read-more">
   
   
   
   
   <div class="read-more-item">
       <span class="read-more-item-dim">更早的文章</span>
       <h2 class="post-list__post-title post-title"><a href="/2016/02/hello-world-vno/" title="link to Hello World - Vno">Hello World - Vno</a></h2>
       <p class="excerpt">What’s thisVno Jekyll is a theme for Jekyll. It is a port of my Ghost theme vno, which is originally developed from Dale Anthony’s Uno.Usage$ git clone https://github.com/onevcat/vno-jekyll.git your_site$ cd your_site$ bundler install$ bundler exe...&hellip;</p>
       <div class="post-list__meta"><time datetime="2016-02-16 15:32:24 +0900" class="post-list__meta--date date">2016-02-16</time> &#8226; <span class="post-list__meta--tags tags"></span><a class="btn-border-small" href=/2016/02/hello-world-vno/>继续阅读</a></div>
   </div>
   
</section>

<section class="post-comments">
  
    <div id="disqus_thread"></div>
    <script>
    
    var disqus_config = function () {
        this.page.url = "http://localhost:4000/2017/06/OpenDaylight-get-started/";
        this.page.identifier = "/2017/06/OpenDaylight-get-started/";
    };

    var disqus_shortname = 'ruanweizhang';
    
    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>要查看<a href="http://disqus.com/?ref_noscript"> Disqus </a>评论，请启用 JavaScript</noscript>
    
  
  
  
  
</section>


            <section class="footer">
    <footer>
    	<span class="footer__copyright">本站点采用<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享 署名-非商业性使用-相同方式共享 4.0 国际 许可协议</a></span>
        <span class="footer__copyright">使用 <a href="https://jekyllrb.com">Jekyll</a> 于 2017-06-24 生成</span>
        <span class="footer__copyright">本站由 <a href="http://ruanweizhang.cn">@eric</a> 创建，采用 <a href="https://github.com/onevcat/vno-jekyll">Vno - Jekyll</a> 作为主题，您可以在 GitHub 找到<a href="https://github.com/ruanweizhang/ruanweizhang.github.io">本站源码</a> - &copy; 2017</span>
    </footer>
</section>

        </div>
    </div>
    
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>

<script type="text/javascript" src="/js/main.js"></script>


<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-55434310-1', 'ruanweizhang.cn');
    ga('send', 'pageview');
</script>


    
  </body>

</html>
